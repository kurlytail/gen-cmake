cmake_minimum_required(VERSION <%=extension('cmake-minimum-required-version-.*')[0]%>)

enable_testing()

project(<%=design.MasterDesign[0].name%>)

<%extension('cmake-message-.*').forEach(message => {%>
<%=message%>
<%});%>

<%
_.each(design.MasterCell, (cell, key) => {
    if (cell.external) return;
    const dirName = lodash.kebabCase(cell.name);
%>
add_subdirectory(src/main/cc/<%=dirName%>)
<%
});
%>